(()=>{var q=(...l)=>tt(et(...l));var j=new AudioContext,tt=(...l)=>{let n=j.createBuffer(l.length,l[0].length,44100),g=j.createBufferSource();return l.map((d,P)=>n.getChannelData(P).set(d)),g.buffer=n,g.connect(j.destination),g.start(),g},et=(l=1,n=.05,g=220,d=0,P=0,w=.1,A=0,G=1,_=0,k=0,I=0,R=0,x=0,C=0,o=0,L=0,p=0,W=1,H=0,N=0)=>{let h=Math.PI*2,b=i=>i>0?1:-1,F=_*=500*h/44100/44100,O=g*=(1+n*2*Math.random()-n)*h/44100,S=[],r=0,V=0,a=0,E=1,X=0,B=0,m=0,t,e;for(d=d*44100+9,H*=44100,P*=44100,w*=44100,p*=44100,k*=500*h/44100**3,o*=h/44100,I*=h/44100,R*=44100,x=x*44100|0,e=d+H+P+w+p|0;a<e;S[a++]=m)++B%(L*100|0)||(m=A?A>1?A>2?A>3?Math.sin((r%h)**3):Math.max(Math.min(Math.tan(r),1),-1):1-(2*r/h%2+2)%2:1-4*Math.abs(Math.round(r/h)-r/h):Math.sin(r),m=(x?1-N+N*Math.sin(h*a/x):1)*b(m)*Math.abs(m)**G*l*.3*(a<d?a/d:a<d+H?1-(a-d)/H*(1-W):a<d+H+P?W:a<e-p?(e-a-p)/w*W:0),m=p?m/2+(p>a?0:(a<e-p?1:(e-a)/p)*S[a-p|0]/2):m),t=(g+=_+=k)*Math.cos(o*V++),r+=t-t*C*(1-(Math.sin(a)+1)*1e9%2),E&&++E>R&&(g+=I,O+=I,E=0),x&&!(++X%x)&&(g=O,_=F,E=E||1);return S};var z=["#0a080d","#f4f4f4","#697594","#f7aaa8","#d4689a","#782c96","#e83562","#f2825c","#ffc76e","#88c44d","#3f9e59","#373461","#4854a8","#7199d9","#9e5252","#4d2536"];var v=[[1.03,,332,.01,.03,.2,,1.24,-3.6,,,,,.4,309,.3,,.77,.09],[1.35,,470,.18,.07,0,,2.23,,,-948,,.12,.1,-37,,.01,,,.21],[1.38,,570,.06,.16,.36,1,.6,,,158,.09,.15,,,,.16,.85,.22],[3.9,,461,.03,.26,.55,,4.9,,.5,,,.3,1.2,69,.6,.14,.3,.04],[1.99,,542,.01,.13,.39,3,.67,.1,,,,.19,1.6,,.2,.39,.49,.14],[2.5,,450,.05,.15,.38,1,1.72,.2,-.2,128,.13,.18,,,,.08,.79,.13,.31],[,0,261.6256,.07,.1,.26,,1.58,,,,,,.3,,.1,,.43,.17],[1.14,,152,.01,.07,.06,1,1.21,-16,,,,,,,,,.62,.03],[1.61,,1898,.02,.09,.14,2,1.6,-1,-3,450,.09,.05,,,,.07,.87,.03,.04],[1.34,,1117,.07,.07,0,2,.05,,,274,.08,.11,,10,,.09,.82,.11],[,,1705,.24,.15,.12,2,2.97,-5.7,,300,.04,.08],[1.99,,603,,.02,0,,.04,,-.4,473,,,.1,,,.18,.2,.1],[,,248,,.06,.07,4,1.26,,.3,,,.01,,,.1,,.7,.06,.38],[,,1959,.01,.04,.12,,.2,,.1,252,.04,,.1,,,,.5,.01,.09]];var u=globalThis;u.floppy=Q;function Q(l={}){let n={WIDTH:l.width??u.innerWidth,HEIGHT:l.height??u.innerHeight,CANVAS:document.createElement("canvas"),TAPPED:!1,TAPX:0,TAPY:0,TICKS:0,ELAPSED:0,FPS:0,zzfx:q,math:u.Math,loop:{init:[],update:[],draw:[]}},g=l.fps??60,d=l.background??null,P=l.global??!0,w=l.antialias??!0,A=l.fullscreen??!1,G=l.autoscale??!0,_=l.loop??{},k=l.plugins??[],I=1,R={top:0,left:0},x=null,C=null,o=null,L=null,p=null,W=0,H=1/g,N=1e3/g,h=0,b={count:0,time:0},F=Math.PI/180,O=180/Math.PI,S=Math.PI*2,r={set(t,e){n[t]=e,P&&(u[t]=e)}};function V(){_RATIO=n.WIDTH/n.HEIGHT,x=n.WIDTH,C=n.HEIGHT;function t(e){m(!0,e.pageX||0,e.pageY||0)}n.CANVAS.addEventListener("click",function(e){e.preventDefault(),t(e)},!1),n.CANVAS.addEventListener("touchstart",function(e){e.preventDefault(),t(e.touches[0])},!1),E(),(G||A)&&u.addEventListener("resize",E),(_.init||u.init)&&n.loop.init.push(_.init||u.init),(_.update||u.update)&&n.loop.update.push(_.update||u.update),(_.draw||u.draw)&&n.loop.draw.push(_.draw||u.draw),k.sort((e,i)=>(e.priority??10)-(i.priority??10));for(let e of k){let i=e(n,r);for(let f in i)r.set(f,i[f])}for(let e of n.loop.init)e();d!=null&&(n.CANVAS.style.backgroundColor=z[d%16]),p=performance.now(),_rafid=requestAnimationFrame(a)}function a(){let t=0;for(L=performance.now(),W=L-p,p=L,h+=W;h>=N;){for(let e of n.loop.update)e(H);m(!1,0,0),h-=N,t++}if(t>0){r.set("TICKS",t+n.TICKS),r.set("ELAPSED",t*H+n.ELAPSED);for(let e of n.loop.draw)e();b.count++,b.time+=t*H,b.time>=1&&(r.set("FPS",b.count),b.time-=1,b.count=0)}_rafid=requestAnimationFrame(a)}function E(){let t=n.CANVAS;x=u.innerWidth,C=u.innerHeight,A?(I=1,t.width=x,t.height=C,r.set("WIDTH",x),r.set("HEIGHT",C)):G&&(I=Math.min(x/WIDTH,C/HEIGHT),t.style.width=WIDTH*I+"px",t.style.height=HEIGHT*I+"px"),R.top=t.offsetTop,R.left=t.offsetLeft}function X(t){t.width=n.WIDTH,t.height=n.HEIGHT,document.body.appendChild(n.CANVAS),t.ctx=t.getContext("2d"),o=t.ctx,A?(t.style.position="absolute",t.style.top="0",t.style.right="0",t.style.left="0",t.style.right="0"):(t.style.display="block",t.style.margin=G?"auto":null),w||(o.imageSmoothingEnabled=!1,t.style.imageRendering="pixelated")}function B(){for(let t in n)t in u||(u[t]=n[t])}function m(t,e,i){r.set("TAPX",(e-R.left)/I),r.set("TAPY",(i-R.top)/I),r.set("TAPPED",t)}return n.math.rand=Math.random,n.math.randi=function(t=1,e=100){return Math.floor(Math.random()*(e-t+1)+t)},n.math.lerp=function(t,e,i){return t+(e-t)*i},n.math.deg2rad=function(t){return t*F},n.math.rad2deg=function(t){return t*O},n.math.clamp=function(t,e,i){return Math.min(Math.max(t,e),i)},n.clear=function(t=null){t==null?o.clearRect(0,0,n.WIDTH,n.HEIGHT):(o.fillStyle=z[~~t%16],o.beginPath(),o.fillRect(0,0,n.WIDTH,n.HEIGHT))},n.rect=function(t,e,i,f,s=0,T=1){o.strokeStyle=z[~~s%16],o.lineWidth=~~T,o.beginPath(),o.strokeRect(~~t,~~e,~~i,~~f)},n.rectfill=function(t,e,i,f,s=0){o.fillStyle=z[~~s%16],o.beginPath(),o.fillRect(~~t,~~e,~~i,~~f)},n.circle=function(t,e,i,f=0,s=1){o.strokeStyle=z[~~f%16],o.lineWidth=~~s,o.beginPath(),o.arc(~~t,~~e,~~i,0,S),o.closePath(),o.stroke()},n.circlefill=function(t,e,i,f=0){o.fillStyle=z[~~f%16],o.beginPath(),o.arc(~~t,~~e,~~i,0,S),o.closePath(),o.fill()},n.oval=function(t,e,i,f,s=0,T=1){o.strokeStyle=z[~~s%16],o.lineWidth=~~T,o.beginPath(),o.ellipse(~~t+~~i,~~e+~~f,~~i,~~f,0,0,S),o.closePath(),o.stroke()},n.ovalfill=function(t,e,i,f,s=0){o.strokeStyle=z[~~s%16],o.beginPath(),o.ellipse(~~t+~~i,~~e+~~f,~~i,~~f,0,0,S),o.closePath(),o.fill()},n.line=function(t,e,i,f,s=0,T=1){o.strokeStyle=z[~~s%16],o.beginPath(),o.lineWidth=~~T,o.moveTo(~~t,~~e),o.lineTo(~~i,~~f),o.stroke()},n.text=function(t,e,i,f=0,s=null,T="monospace"){s=s||Math.max(16,n.HEIGHT/16),o.textBaseline="top",o.font=~~s+"px "+T,o.fillStyle=z[~~f%16],o.fillText(i,~~t,~~e)},n.image=function(t,e,i){o.drawImage(i,~~t,~~e)},n.paint=function(t,e,i){let f=new OffscreenCanvas(t,e),s=o;if(f.width=t,f.height=e,o=f.getContext("2d"),typeof i=="function")i(f,o);else if(Array.isArray(i)){let T=o.createImageData(t,e),D=T.data,K=y=0;for(let U of i){for(let Y of U.split("")){let M=y*(t*4)+K*4;if(Y===" "||Y===".")D[M]=0,D[M+1]=0,D[M+2]=0,D[M+3]=0;else{c=z[~~parseInt(Y,16)];let Z=parseInt(c.slice(1,3),16),$=parseInt(c.slice(3,5),16),J=parseInt(c.slice(5,7),16);D[M]=Z,D[M+1]=$,D[M+2]=J,D[M+3]=255}K++}y++,K=0}o.putImageData(T,0,0)}return o=s,f},n.transform=function(t,e,i=1,f=0){o.setTransform(i,0,0,i,t,e),o.rotate(n.math.deg2rad(f))},n.push=function(){o.save()},n.pop=function(){o.restore()},n.sfx=function(t=0){return n.zzfx(...v[~~t%v.length])},P&&B(),X(n.CANVAS),u.document.readyState==="loading"?u.addEventListener("DOMContentLoaded",V):V(),n}})();
